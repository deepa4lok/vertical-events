<?xml version="1.0" encoding="utf-8"?>
<odoo>


<!-- Event - Registration -->
<template id="exhibitor_registration_template" name="Exhibitor Registration">

    <form
        id="exhibitor_registration_form"
        class="mb-5"
        t-attf-action="/event/#{slug(event)}/exhibitor_registration/new" method="post"
        itemscope="itemscope" itemprop="offers" itemtype="http://schema.org/AggregateOffer">
        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
        <div id="o_wevent_exhibitor_reg" class="bg-white shadow-sm o_wevent_js_ticket_details" data-folded-by-default="0">

            <div class="o_wevent_registration_single">
                <div class="row p-3">
                    <div class="bg-light p-2 border-bottom">
                        <div class="row">
                            <div class="col-lg my-2">
                                <label>Name</label>
                                <input class="form-control" type="text" t-attf-name="#{counter}-name" required="This field is required"/>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg my-2">
                                <label>Company Name</label>
                                <input class="form-control" type="text" t-attf-name="#{counter}-partner_company"/>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg my-2">
                                <label>Email</label>
                                <input class="form-control" type="email" t-attf-name="#{counter}-email" required="This field is required"/>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg my-2">
                                <label>Mobile </label>
                                <input class="form-control" type="tel" t-attf-name="#{counter}-mobile" required="This field is required"/>
                            </div>
                            <div class="col-lg my-2">
                                <label>Phone <small>(Optional)</small></label>
                                <input class="form-control" type="tel" t-attf-name="#{counter}-phone"/>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg my-2">
                                <label>Stand Width <small>(mts)</small></label>
                                <input class="form-control" type="number" t-attf-name="#{counter}-stand_width" required="This field is required"/>
                            </div>
                            <div class="col-lg my-2">
                                <label>Stand Length <small>(mts)</small></label>
                                <input class="form-control" type="number" t-attf-name="#{counter}-stand_length" required="This field is required"/>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg my-2">
                                <label>Stand Type </label>
                                <select class="form-control" t-attf-name="#{counter}-stand_type_id">
                                    <t t-foreach="stand_types" t-as="stype">
                                        <option t-attf-value="#{stype.id}"><t t-esc="stype.name"/></option>
                                    </t>
                                 </select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg my-2">
                                <label>Remarks </label>
                                <textarea  class="form-control" name="remarks" t-attf-name="#{counter}-remarks"/>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg my-2">
                                <button type="submit" class="btn btn-primary btn-block">Register</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</template>

<template id="registration_complete" name="Registration Completed">
    <t t-call="website_event.layout">
        <div class="container my-5 o_wereg_confirmed">
            <div class="row mb-3">
                <div class="col-12">
                    <h3>Registration confirmed!</h3>
                    <span class="h4 text-muted" t-esc="event.name"/>
                </div>
            </div>
            <div class="row mb-3 o_wereg_confirmed_attendees">
                <div class="col-md-4 col-xs-12 mt-3" t-foreach="attendees" t-as="attendee">
                    <div class="d-flex flex-column">
                        <span class="font-weight-bold">
                            <t t-if="attendee.name" t-esc="attendee.name"/>
                            <t t-else="">N/A</t>
                        </span>
                        <span>
                            <i class="fa fa-envelope mr-2   "></i>
                            <t t-if="attendee.email" t-esc="attendee.email"/>
                            <t t-else="">N/A</t>
                        </span>
                        <span>
                            <i class="fa fa-phone mr-2"></i>
                            <t t-if="attendee.mobile" t-esc="attendee.mobile"/>
                            <t t-else="">N/A</t>
                        </span>
                    </div>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col">
                    <p><b>Start</b> <span itemprop="startDate" t-esc="event.date_begin_located"/><br/> <b>End</b> <span itemprop="endDate" t-esc="event.date_end_located"/></p>
                    <div class="mt-4">
                        <h5 t-field="event.address_id" class="text-secondary font-weight-bold" t-options='{
                            "widget": "contact",
                            "fields": ["name"]
                            }'/>
                        <a itemprop="location" t-att-href="event.google_map_link()" target="_BLANK" temprop="location" t-field="event.address_id" t-options='{
                            "widget": "contact",
                            "fields": ["address"]
                            }'/>
                        <div itemprop="location" t-field="event.address_id" t-options='{
                            "widget": "contact",
                            "fields": ["phone", "mobile", "email"]
                            }'/>
                    </div>
                    <div id="add_to_calendar" class="mt-4 d-flex flex-column flex-md-row">
                        <a role="button" class="btn btn-primary" t-att-href="iCal_url">
                            <i class="fa fa-fw fa-calendar"/> Add to iCal/Outlook
                        </a>
                        <a role="button" class="btn btn-primary ml-md-2 mt-2 mt-md-0" t-att-href="google_url" target='_blank'>
                            <i class="fa fa-fw fa-calendar"/> Add to Google Calendar
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </t>
</template>

</odoo>
